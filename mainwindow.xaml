<Window x:Name="window" x:Class="Launcher.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
        xmlns:local="clr-namespace:Launcher" 
        mc:Ignorable="d" 
        Title="World of Warcraft Launcher" 
        Height="650" Width="1024" 
        MinWidth="800" MinHeight="500" 
        ResizeMode="CanResizeWithGrip" 
        WindowStartupLocation="CenterScreen" 
        Icon="img/101.ico" BorderThickness="0" Background="{x:Null}" 
        IsEnabled="False" WindowStyle="None" 
        AllowsTransparency="True">
  <FrameworkElement.Resources>
    <ZoomPercentageConverter x:Key="ZoomPercentageConverter"/>
  </FrameworkElement.Resources>
  <Window.TaskbarItemInfo>
    <TaskbarItemInfo x:Name="TaskbarProgress" ThumbnailClipMargin="2" ProgressState="None">
      <TaskbarItemInfo.ThumbButtonInfos>
               <ThumbButtonInfo x:Name="TaskbarPlay" IsEnabled="False" Description="Играть" ImageSource="img/play-thumb.png" Click="TaskbarPlay_Click"/>
            </TaskbarItemInfo.ThumbButtonInfos>
    </TaskbarItemInfo>
  </Window.TaskbarItemInfo>
  <Grid MouseDown="Grid_MouseDown" x:Name="MainGrid" Margin="0">
    <Grid>
      <Canvas VerticalAlignment="Top">
        <Image Source="img/main.jpg" Stretch="UniformToFill" StretchDirection="UpOnly"
               RenderTransformOrigin="0.5,0.5" UseLayoutRounding="false" Canvas.Top="0" Width="1024"
               HorizontalAlignment="Center" VerticalAlignment="Center">
          <FrameworkElement.LayoutTransform>
            <TransformGroup>
              <ScaleTransform ScaleY="1" ScaleX="1"/>
              <SkewTransform AngleY="0" AngleX="0"/>
              <RotateTransform Angle="0"/>
              <TranslateTransform/>
            </TransformGroup>
          </FrameworkElement.LayoutTransform>
        </Image>
        <Border Height="80" BorderBrush="#33FFFFFF" BorderThickness="0,0,0,1">
          <Image Source="img/main.jpg" Stretch="UniformToFill" StretchDirection="UpOnly" Margin="0,0,0,0"
                 Width="1024">
            <UIElement.Effect>
              <BlurEffect Radius="25"/>
            </UIElement.Effect>
          </Image>
        </Border>
      </Canvas>
      <Grid Cursor="{Binding Cursor, ElementName=MainGrid}">
        <Grid.RowDefinitions>
          <RowDefinition Height="79"/>
          <RowDefinition/>
          <RowDefinition Height="100"/>
        </Grid.RowDefinitions>
        <Border BorderBrush="#33FFFFFF" BorderThickness="0,1,0,0" Grid.Row="2"
                ScrollViewer.VerticalScrollBarVisibility="Disabled" IsEnabled="false"
                RenderTransformOrigin="0.5,0.5" ClipToBounds="true" Padding="0" Margin="0,1,0,0">
          <Canvas Margin="0,0,0,0" ClipToBounds="true">
            <Image Source="img/main.jpg" Width="1024" StretchDirection="UpOnly" RenderTransformOrigin="0,0"
                   Margin="0,-476,0,-100" UseLayoutRounding="false"
                   ScrollViewer.VerticalScrollBarVisibility="Disabled" Stretch="UniformToFill">
              <UIElement.Effect>
                <BlurEffect Radius="25"/>
              </UIElement.Effect>
            </Image>
          </Canvas>
        </Border>
        <Button Click="btn_close_Click" x:Name="btn_close" Margin="0,5,5,0" Style="{DynamicResource SimpleButton}"
                FontSize="18" ToolTip="Закрыть приложение" HorizontalAlignment="Right" Width="24" Height="24"
                VerticalAlignment="Top" BorderThickness="0" FontFamily="Arial Rounded MT" IsTabStop="false"
                Cursor="{Binding Cursor, ElementName=version}">
          <Path Width="16" Height="16" SnapsToDevicePixels="false" StrokeThickness="3"
                Data="M 0,0 L 7,7 M 0,7 L 7,0 " Stretch="Fill" Stroke="White"/>
        </Button>
        <Button Click="btn_min_Click" x:Name="btn_min" Margin="0,5,34,0" Style="{DynamicResource SimpleButton}"
                FontSize="24" ToolTip="Свернуть приложение" HorizontalAlignment="Right" Width="24" Height="24"
                VerticalAlignment="Top" BorderThickness="0" FontFamily="Arial Rounded MT" IsTabStop="false"
                Padding="1" VerticalContentAlignment="Center" Foreground="White"
                Cursor="{Binding Cursor, ElementName=version}">
          <Path Width="16" Height="16" SnapsToDevicePixels="false" StrokeThickness="3" Data="M 0,0 L 7,0 "
                Stretch="Fill" Stroke="White" VerticalAlignment="Bottom"/>
        </Button>
        <Button Click="btn_settings_Click" x:Name="btn_settings" Margin="0,5,63,0"
                Style="{DynamicResource SimpleButton}" FontSize="16" ToolTip="Настройка приложения"
                HorizontalAlignment="Right" Width="24" Height="24" VerticalAlignment="Top" BorderThickness="0"
                FontFamily="Arial Rounded MT" IsTabStop="false" Padding="1" VerticalContentAlignment="Center"
                Cursor="{Binding Cursor, ElementName=version}">
          <Path Width="16" Height="16" SnapsToDevicePixels="false" StrokeThickness="0"
                Data="F1 M 38,23.5 C 38.8643,23.5 39.7109,23.5756 40.5337,23.7206 L 42.6275,18.5381 48.1901,20.787 46.0964,25.9692 C 47.6473,27.0149 48.9851,28.3527 50.0308,29.9036 L 55.213,27.8099 57.4619,33.3725 52.2794,35.4664 C 52.4244,36.2891 52.5,37.1357 52.5,38 52.5,38.8643 52.4244,39.7109 52.2794,40.5337 L 57.4619,42.6275 55.213,48.1901 50.0308,46.0964 C 49.0795,47.5073 47.8865,48.7418 46.5112,49.7405 L 48.7844,54.8462 43.3041,57.2891 41.0307,52.1828 C 40.0533,52.3906 39.0394,52.5 38,52.5 37.1357,52.5 36.2891,52.4244 35.4664,52.2794 L 33.3725,57.462 27.8099,55.213 29.9036,50.0309 C 28.3527,48.9851 27.0149,47.6473 25.9691,46.0964 L 20.787,48.1901 18.538,42.6275 23.7206,40.5336 C 23.5756,39.7109 23.5,38.8643 23.5,38 23.5,37.1357 23.5756,36.2891 23.7206,35.4664 L 18.538,33.3725 20.787,27.8099 25.9691,29.9036 C 26.9205,28.4927 28.1135,27.2582 29.4889,26.2594 L 27.2157,21.1537 32.6959,18.7109 34.9694,23.8172 C 35.9468,23.6094 36.9606,23.5 38,23.5 M 38,28 C 32.4771,28 28,32.4772 28,38 28,43.5229 32.4771,48 38,48 43.5228,48 48,43.5229 48,38 48,32.4772 43.5228,28 38,28 Z"
                Stretch="Fill" Fill="White"/>
        </Button>
        <Label MouseDown="version_MouseDown" x:Name="version" Foreground="#FFF9EB8F" Content="" Margin="0,0,92,0"
               FontSize="13" Cursor="Hand" ToolTip="Просмотреть историю обновлений клиента" Height="33"
               VerticalAlignment="Top" VerticalContentAlignment="Center" RenderTransformOrigin="0.5,0.5"
               HorizontalContentAlignment="Right" HorizontalAlignment="Right" Width="90"/>
        <local:NewsLoaderControl x:Name="news_box" Margin="30,35,398,10" Grid.Row="1" Foreground="White"/>
        <Label x:Name="contentNewsLoadIndicator" Grid.Row="1" Margin="1,0,1,0" Foreground="White"
               HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Visibility="Hidden">
          <TextBlock x:Name="newsLoadIndicator" TextWrapping="Wrap" FontSize="12pt">
            <Run Text="Загрузка новостей..."/>
          </TextBlock>
        </Label>
        <RichTextBox x:Name="NewsBox" Margin="1,0" Grid.Row="1" AcceptsReturn="false" IsReadOnly="true"
                     ScrollViewer.CanContentScroll="true" VerticalScrollBarVisibility="Auto" Foreground="White"
                     Focusable="false" IsTabStop="false" Template="{DynamicResource NewsBox}" Cursor="Arrow"
                     Padding="10" FontSize="15" BorderThickness="0,0,0,1" Background="#99171E25" BorderBrush="#33FFFFFF"
                     Visibility="Hidden">
          <FrameworkElement.Resources>
            <Style TargetType="{x:Type Hyperlink}">
              <Setter Property="TextElement.Foreground" Value="#FF00aeff"/>
              <Setter Property="Inline.TextDecorations" Value="None"/>
              <Setter Property="FrameworkContentElement.Cursor"
                      Value="pack://application:,,,/img/cursors/WOW-ENLACE-CURSOR.cur"/>
              <Style.Triggers>
                <Trigger Property="ContentElement.IsMouseOver" Value="true">
                  <Setter Property="TextElement.Foreground" Value="#ffffffff"/>
                </Trigger>
              </Style.Triggers>
            </Style>
          </FrameworkElement.Resources>
          <FlowDocument/>
        </RichTextBox>
        <Grid x:Name="DownloadBar" Row="2" Margin="213,0,10,10" Height="75" VerticalAlignment="Bottom"
              Visibility="Hidden" Cursor="{Binding Cursor, ElementName=MainGrid}">
          <Grid.RowDefinitions>
            <RowDefinition Height="23*"/>
            <RowDefinition Height="19*"/>
            <RowDefinition Height="19*"/>
          </Grid.RowDefinitions>
          <Label x:Name="labelprogress" Content="" Margin="17,0,11,1" Foreground="#FFE8E8E8" Background="#00836359"
                 Padding="0" Height="19" VerticalAlignment="Bottom"/>
          <Grid x:Name="totalProgressGrid" Row="1">
            <ProgressBar x:Name="progress" Margin="16,0,76,0" Style="{DynamicResource ProgressBar}"
                         ToolTip="Общий прогресс обновления" Height="19" VerticalAlignment="Bottom">
              <Control.Foreground>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                  <GradientStop Color="#FF4292A7" Offset="0"/>
                  <GradientStop Color="#FF3A8DA1" Offset="0.5"/>
                  <GradientStop Color="#FF347F95" Offset="0.5"/>
                  <GradientStop Color="#FF307B91" Offset="1"/>
                </LinearGradientBrush>
              </Control.Foreground>
            </ProgressBar>
            <Label Margin="0,0,35,0" Foreground="#7FFFFFFF" FontSize="15" HorizontalAlignment="Right" Width="36"
                   HorizontalContentAlignment="Right" FontFamily="Tahoma" ToolTip="Общий прогресс обновления"
                   Padding="0" VerticalContentAlignment="Bottom"
                   Content="{Binding Value, ElementName=progress, StringFormat=\{0:0\}}"/>
            <Label Content="%" Foreground="#7FFFFFFF" FontSize="15" HorizontalAlignment="Right" Width="25"
                   HorizontalContentAlignment="Center" Margin="0,0,10,0" FontFamily="Tahoma"
                   ToolTip="Общий прогресс обновления" Padding="0" VerticalContentAlignment="Bottom"/>
          </Grid>
          <Grid x:Name="currentProgressGrid" Row="2">
            <ProgressBar x:Name="progress_file" Margin="16,0,76,0" Style="{DynamicResource ProgressBar}"
                         ToolTip="Текущий прогресс обновления" Height="19" VerticalAlignment="Bottom">
              <Control.Foreground>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                  <GradientStop Color="#FF4292A7" Offset="0"/>
                  <GradientStop Color="#FF3A8DA1" Offset="0.5"/>
                  <GradientStop Color="#FF347F95" Offset="0.5"/>
                  <GradientStop Color="#FF307B91" Offset="1"/>
                </LinearGradientBrush>
              </Control.Foreground>
            </ProgressBar>
            <Label Margin="0,0,35,0" Foreground="#7FFFFFFF" FontSize="15" HorizontalAlignment="Right" Width="36"
                   HorizontalContentAlignment="Right" FontFamily="Tahoma" ToolTip="Текущий прогресс обновления"
                   Padding="0" VerticalContentAlignment="Bottom"
                   Content="{Binding Value, ElementName=progress_file, StringFormat=\{0:0\}}"/>
            <Label Content="%" Foreground="#7FFFFFFF" FontSize="15" HorizontalAlignment="Right" Width="25"
                   HorizontalContentAlignment="Center" Margin="0,0,10,0" FontFamily="Tahoma"
                   ToolTip="Текущий прогресс обновления" Padding="0" VerticalContentAlignment="Bottom"/>
          </Grid>
        </Grid>
        <Label x:Name="labelmsg" Grid.Row="2" Content="Инициализация..." Margin="10,0,0,82" Foreground="#7FEAEAEA"
               HorizontalAlignment="Left" Width="296" Height="14" VerticalAlignment="Bottom" Padding="0"/>
        <Button Click="btn_play_Click" x:Name="btn_play" Grid.Row="2" Margin="10,0,0,10" Height="67"
                VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="180" IsTabStop="false"
                Content="ИГРАТЬ" Style="{DynamicResource PlayButton}" FontFamily="Verdana" FontSize="26.667"
                BorderThickness="0" Cursor="{Binding Cursor, ElementName=version}"/>
        <Button Click="btn_blind_Click" x:Name="btn_blind" Grid.Row="2" Margin="0,0,20,10" Height="67"
                VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="180" IsTabStop="false"
                Content="Скрыть патчи сервера" Style="{DynamicResource PlayButton}" FontFamily="Verdana"
                FontSize="16" BorderThickness="0" Cursor="{Binding Cursor, ElementName=version}"/>
        <Button Click="link_main_Click" x:Name="link_main" Content="ГЛАВНАЯ" HorizontalAlignment="Left"
                Margin="40,2,0,2" Style="{DynamicResource LinkButton}" Width="115" FontSize="16"
                Cursor="{Binding Cursor, ElementName=version}"/>
        <Button Click="link_cabinet_Click" x:Name="link_cabinet" Content="ФОРУМ" HorizontalAlignment="Left"
                Margin="155,2,0,2" Style="{DynamicResource LinkButton}" Width="115" FontSize="16"
                Cursor="{Binding Cursor, ElementName=version}"/>
        <Button Click="link_registration_Click" x:Name="link_registration" Content="РЕГИСТРАЦИЯ"
                HorizontalAlignment="Left" Margin="270,2,0,2" Style="{DynamicResource LinkButton}" Width="150"
                FontSize="16" Cursor="{Binding Cursor, ElementName=version}"/>
        <Button Click="link_social_Click" x:Name="link_social" Content="ГРУППА
ВКОНТАКТЕ"
                HorizontalAlignment="Left" Margin="420,2,0,2" Style="{DynamicResource LinkButton}" Width="130"
                FontSize="16" Cursor="{Binding Cursor, ElementName=version}"/>
        <Label x:Name="News" Content="НОВОСТИ ПРОЕКТА" FontSize="20" Margin="70,10,0,0" Foreground="#FFFFFF"
               HorizontalAlignment="Left" Width="296" Height="17" Padding="0" IsHitTestVisible="false"
               VerticalAlignment="Top" VerticalContentAlignment="Stretch" HorizontalContentAlignment="Stretch"
               Grid.Row="1" FontFamily="Lucida Console"/>
        <Label x:Name="News_Copy" Content="СЕРВЕР:" FontSize="22" Margin="664,41,-94,0" Foreground="#FFFFFF"
               HorizontalAlignment="Left" Width="454" Height="26" Padding="0" IsHitTestVisible="false"
               VerticalAlignment="Top" VerticalContentAlignment="Stretch" HorizontalContentAlignment="Stretch"
               Grid.Row="1" FontFamily="Nirmala UI Semilight"/>
        <Label x:Name="News_Copy1" Content="ИГРОКОВ В СЕТИ:" FontSize="22" Margin="664,73,-94,0"
               Foreground="#FFFFFF" HorizontalAlignment="Left" Width="454" Height="26" Padding="0"
               IsHitTestVisible="false" VerticalAlignment="Top" VerticalContentAlignment="Stretch"
               HorizontalContentAlignment="Stretch" Grid.Row="1" FontFamily="Nirmala UI Semilight"/>
        <Label x:Name="ServerStatus" Content="НЕДОСТУПЕН" FontSize="22" Margin="746,41,0,0" Foreground="#ff3814"
               HorizontalAlignment="Left" Width="268" Height="26" Padding="0" IsHitTestVisible="false"
               VerticalAlignment="Top" VerticalContentAlignment="Stretch" HorizontalContentAlignment="Stretch"
               Grid.Row="1" FontFamily="Nirmala UI Semilight"/>
        <Label x:Name="GamersCount" Content="НЕДОСТУПЕН" FontSize="22" Margin="846,73,0,0" Foreground="#84c4e7"
               HorizontalAlignment="Left" Width="178" Height="26" Padding="0" IsHitTestVisible="false"
               VerticalAlignment="Top" VerticalContentAlignment="Stretch" HorizontalContentAlignment="Stretch"
               Grid.Row="1" FontFamily="Nirmala UI Semilight"/>
      </Grid>
    </Grid>
  </Grid>
</Window>